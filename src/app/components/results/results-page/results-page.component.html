<div style="margin-top: 80px;" class="full-width">
    <mat-card style="text-align: center;">
        <h2>Results</h2>
    </mat-card>
    
    <div>
        <div style="display: flex;">
            <mat-card style="width: 40%;">
                <h3>Results List</h3>
                <div>Click a location to see details</div>

                <div *ngIf="results.length > 0">
                    <table class="styled-table">
                        <thead>
                            <tr>
                                <th>City, State, County</th>
                            </tr>                        
                        </thead>
                        <tbody>
                            <tr *ngFor="let result of results; let i = index" (click)="onClick(i)">
                                <td>{{result.city}}, {{result.state}}, {{result.county}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <br><div *ngIf="results.length == 0">
                    <strong>Please enter your preferences on the preference page to see results</strong>
                </div>
            </mat-card>
            
            <mat-card style="width: 60%; padding-top: 0;">
                <app-results-map></app-results-map>
            </mat-card>
        </div>
        
        <mat-card>
            <h3>Details</h3>
            <h4>General</h4>
            <div>Here are the details of the selected location</div>
            <div *ngIf="currentPick">
                <table class="styled-table">
                    <thead>
                        <tr>
                            <th>City</th>
                            <th>State</th>
                            <th>County</th>
                            <th>House type</th>
                            <th>Mean Earning</th>
                            <th>Age</th>
                            <th>Income</th>
                            <th>Price</th>
                            <th>Latitude</th>
                            <th>Longitude</th>
                            <th>Score</th>
              
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>{{currentPick.city}}</td>
                            <td>{{currentPick.state}}</td>
                            <td>{{currentPick.county}}</td>
                            <td>{{currentPick.housetype}}</td>
                            <td>${{currentPick.mean_earnings}}</td>
                            <td>{{currentPick.median_age}}</td>
                            <td>${{currentPick.per_capita_income}}</td>
                            <td>${{currentPick.price}}</td>
                            <td>{{currentPick.latitude.toPrecision(5)}}</td>
                            <td>{{currentPick.longitude.toPrecision(5)}}</td>
                            <td><strong>{{currentPick.score.toPrecision(5)}}</strong></td>
                        </tr>
                    </tbody>
                  </table>
            </div>

            <h4>Education</h4>
            <div *ngIf="currentPick">
                <table class="styled-table">
                    <thead>
                        <tr>
                            <th>Associates Degree</th>
                            <th>Bachelors Degree</th>
                            <th>Grad Degree</th>
                            <th>HS Grad</th>
                            <th>Some College</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>{{details[0].associates_degree}} (%)</td>
                            <td>{{details[0].bachelors_degree}} (%)</td>
                            <td>{{details[0].grad_degree}} (%)</td>
                            <td>{{details[0].hs_grad}} (%)</td>
                            <td>{{details[0].some_college}} (%)</td>
                        </tr>
                    </tbody>
                  </table>
            </div>

            <h4>Incentives</h4>
            <div *ngIf="currentPick && incentives">
                <table class="styled-table">
                    <thead>
                        <tr>
                            <th>Descriptions</th>
                            <th>Requirements</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>{{incentives.description}}</td>
                            <td>{{incentives.requirements}}</td>
                        </tr>
                    </tbody>
                  </table>
            </div>

            <br><div *ngIf="!currentPick">
                <strong>Choose a location</strong> 
            </div>
        </mat-card>
    </div>
</div>


